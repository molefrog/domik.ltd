import { useState, useEffect } from "react";
import panoramaImg from "./panorama.webp";
import ashImg from "./ash.webp";
import philImg from "./phil.webp";
import ivyRubyImg from "./ivy-ruby.webp";

export const title = "06. Друзья";

export class Mediator extends EventTarget {}
export const mediator = new Mediator();

# 06. Друзья

Представьте, что вы решили забраться на вершину горы. Довольно сложно выделить конкретный момент,
когда заканчивается равнина и начинается подъём. Скорее всего, вы начнёте свой путь с пологой
тропинки, пройдёте холмистый участок, заметите несколько невысоких пиков перед собой и решите
двигаться навстречу им. Возможно, вы собьётесь с пути, или эти вершины окажутся не такими
грандиозными, как вам представлялось, и вы снова окажетесь у подножья. А может быть, вы выберете
верный маршрут. Тропинка будет идти всё круче и круче, каждый шаг будет сложнее предыдущего.

У любой, даже самой небольшой горки есть {<TV video="lEsW829zNTs" from="0:26">вершина</TV>}. Ведь,
если подумать, гора не называлась бы горой, если бы не имела конца. Наверное, такой очевидной и
незамысловатой метафорой можно охарактеризовать наше с друзьями общее дело. А вообще, скорее всего,
это сравнение совершенно здесь не к месту. Наверное, я излишне романтизирую и пытаюсь найти смысл в
том, чем мы занимались.

В любом случае... Производство домиков продвигалась лучше, чем мы себе могли представить. Мы были
так увлечены процессом, что время, проведённое вместе, пролетело незаметно. Наш успех имел и слегка
негативные последствия. Порой мы ощущали излишнее давление со стороны счастливых клиентов или
знакомых. Им казалось, что нам стоит не упускать возможность и дорастить команду до
{<TV video="Hhy7JUinlu0" from="0:03">невероятных размеров</TV>}. Кто-то даже пытался привить нам
миссию, конечная цель которой — чтобы каждый второй дом был произведён в «Домик Лимитед».

Во время одного из регулярных чаепитий мы договорились, что каждый может выйти из проекта и
переключится на что-нибудь другое, когда им будет комфортно, и никто не должен критиковать их выбор.

Поэтому мы были ужасно рады за Эша, провожая его на другой конец континента. Ему предложили читать
двухгодичный курс в одной {<TV video="-7OE6bDfM2M" from="0:07">престижной школе</TV>},
специализирующейся на «технологиях производства деталей для особо сложных промышленных тортиков». До
самого последнего момента он сомневался, но мы смогли убедить его, что такая возможность бывает раз
в жизни.

Эш сел за руль той самой машинки, с которой началось наше путешествие. За это время её изрядно
потрепало: на корпусе виднелись вмятины, а заднее сиденье было переоборудовано в покрытый опилками
отсек для перевозки инструментов. Я предварительно настроил его компас: с учётом стиля вождения Эша
лишняя предосторожность точно не помешала бы.

— Не забывай про нас, — с грустью сказала Иви.

— Не беспокойтесь, наверняка меня выгонят через месяц. Не такой уж я и эксперт в этой теме, и вы
сами знаете, что с самоорганизацией у меня проблемы...

— Хорошо, к твоему возвращению мы подготовим список самых интересных задач: уборку опилок, разбор
свалки из материалов, разгрузку бетонных блоков, — конечно, я знал, что его не выгонят. Эш порой
мыслил достаточно сумбурно, но у него был талант объяснять сложные вещи
{<TV video="SmjVqDdF6fk" from="0:04">простым языком</TV>} и находить нестандартные решения. —
Увидимся, друг!

Первое время Эш присылал нам письма каждую неделю. Он рассказывал про свои будни в школе, про разные
мелочи и проблемы, иногда прикреплял схемы и наброски проектов, над которыми трудился. В своём стиле
повествования, естественно: «Добрался. Уже вечер. Мне дали ключи от домика для сотрудников. Здесь
нет одеяла, буду укрываться коробкой».

В следующий раз мы получили: «Купил одеяло. Прочёл первую лекцию, дикий стресс. Студенты не могут
перестать называть меня на "вы" и не смеются над моими шутками». Через несколько недель: «Поработал
над шутками, кажется, лёд тронулся. По привычке соорудил себе диван в мастерской, никаких больше
коробок!».

В ответных письмах, мы докладывали о том, сколько пакетов с чаем было выпито на встречах, а иногда
делились важными новостями и событиями. Например, как Фил решил больше времени проводить на природе,
вести здоровый образ жизни и {<TV video="xR7XMkjDGw0" from="1:38">писать книги</TV>}. Он всё еще
консультировал «Домик» по вопросам экологичной доставки материалов и их переработки. Иви и Руби, в
свою очередь, продолжили с увлечением развивать проект: они придумали расширить линейку
производством модульных бань — давление пара, расположение бассейнов и переходов между ними
конфигурировалось под каждого клиента.

В какой-то момент я начал задумываться о том, чтобы перебраться поближе к соседнему городку. Мне
нравилось проводить время в мастерской, но иногда становилось скучно и хотелось поменять обстановку.
Я знал, что в городе было больше возможностей, чтобы попробовать себя в другой области или поучиться
у местных мастеров. Руби и Иви поддержали меня и предложили помочь с дизайном домика для переезда.
Они разработали уникальный проект из недоступных другим клиентам блоков. Мы вместе придумали
планировку сада, совмещенного с рабочей зоной — там мы разместили переносные доски для рисования и
прототипирования изобретений. Мне всегда хотелось научиться создавать полезные в быту устройства,
например, аппарат для автоматического {<TV video="KVdqwD_bcPs" from="1:23">приготовления
яичницы</TV>}, идея которого случайно пришла мне в голову во время чаепития.

Переезд и строительство отнимали всё свободное время, а письма стали отправляться и приходить реже.
Происходило так много всего, что порой было сложно придерживаться прежнего расписания и писать
строго раз в неделю. Мы не прекращали общаться, наоборот, время от времени напоминали друг другу о
себе, иногда короткими сообщениями, а где-то длинными и насыщенными письмами, в которых собирали все
последние новости.

<FullWidth style={{ maxWidth: "1200px" }}>
  <CompassFinder
    fieldImg={panoramaImg}
    fieldImgDimensions={[2200, 789]}
    onSuccessChange={(value) => {
      mediator.dispatchEvent(new CustomEvent("successChange", { detail: value }));
    }}
  >
    <HiddenSecret x={0.91} y={0.2} image={ashImg} />
    <HiddenSecret x={0.372} y={0.18} image={philImg} />
    <HiddenSecret x={0.643} y={0.28} image={ivyRubyImg} />
  </CompassFinder>
</FullWidth>

Переехав в новый дом, и проведя бесчисленное количество дней в саду, оттачивая навык
изобретательства, я наконец решился открыть скромный магазинчик по продаже своих
{<TV video="Yj7XA3tiGUg">творений</TV>}. Изобретения покупались не очень охотно, в некоторые моменты
мне казалось, что затея провалилась и стоит попробовать себя в чём-то другом. В итоге, я всё же смог
найти узкий круг заинтересованных покупателей (лучше всего расходились ручные пушки для быстрой
высадки кустов, к счастью в городе было активное сообщество садоводов). Я проводил в лавке всего
несколько дней в неделю, остальное время тратил на улучшение и проработку новых изобретений.

На летние каникулы мы смогли собраться в полном составе — Эш приехал навестить нас во время отпуска.
По этому случаю Фил придумал для нас детокс-программу: мы сдали компасы и отправились в горную
экспедицию (достаточно расслабленную, чтобы поберечь силы на общение). Мы изучали растения из
подготовленного Филом путеводителя, сочиняли истории, смотрели на звёзды и вспоминали нелепые
ошибки, допущенные за время работы над домиками. Мы старались {<Emotion feeling="happiness">ценить
каждый момент</Emotion>}, зная, что скоро всем предстоит возвращаться к прежней жизни.

export const CreditsSection = () => {
  const [revealTitles, setRevealTitles] = useState(false);
  useEffect(() => {
    const handler = (e) => setRevealTitles(e.detail);
    mediator.addEventListener("successChange", handler);
    return () => {
      mediator.removeEventListener("successChange", handler);
    };
  }, []);
  return (
    <>
      <p>
        <Spoiler hidden={!revealTitles}>
          Я сохранил привычку время от времени доставать компас из кармана, крутить его в руках и
          рассматривать циферблат. Эта модель заметно устарела, но теперь меня интересовала лишь
          одна простая функция: напоминать, что где-то там, куда указывала стрелочка, меня ждут
          друзья.
        </Spoiler>
      </p>
      <Credits.Credits>
        <Spoiler hidden={!revealTitles}>Моему другу Тихону.</Spoiler>
        <Credits.Columns>
          <Credits.Credit title={<Spoiler hidden={!revealTitles}>текст, идея и кодинг</Spoiler>}>
            <Spoiler hidden={!revealTitles}>
              <EyedLink href="https://molefrog.com">Лёша Тактаров</EyedLink>
            </Spoiler>
          </Credits.Credit>
          <Credits.Credit title={<Spoiler hidden={!revealTitles}>иллюстрации и персонажи</Spoiler>}>
            <Spoiler hidden={!revealTitles}>
              <EyedLink href="https://www.instagram.com/yulia_mrachnenko/">Юля Мрачненько</EyedLink>
            </Spoiler>
          </Credits.Credit>
          <Credits.Credit title={<Spoiler hidden={!revealTitles}>звуки</Spoiler>}>
            <Spoiler hidden={!revealTitles}>
              <EyedLink href="https://design.facebook.com/toolsandresources/sound-kit-for-prototypes/">
                Facebook Sound Kit
              </EyedLink>
            </Spoiler>
            <br />
            <Spoiler hidden={!revealTitles}>
              <EyedLink href="https://freesound.org/">freesound.org</EyedLink>
            </Spoiler>
          </Credits.Credit>
          <Credits.Credit title={<Spoiler hidden={!revealTitles}>шрифт</Spoiler>}>
            <Spoiler hidden={!revealTitles}>
              <EyedLink href="https://type.today/en/grato_marker">Grato Marker</EyedLink>
            </Spoiler>
          </Credits.Credit>
        </Credits.Columns>
      </Credits.Credits>
    </>
  );
};

<CreditsSection />
